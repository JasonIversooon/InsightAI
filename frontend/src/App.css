/* Global/base */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background-color: #f8fafc; color: #334155; line-height: 1.6; }
.app { min-height: 100vh; display: flex; flex-direction: column; }

/* Header */
.app-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 2rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.header-content h1 { font-size: 2rem; font-weight: 700; margin-bottom: 0.25rem; }
.header-content p { opacity: 0.9; font-size: 1rem; }

/* Layout */
.main-container { display: flex; flex: 1; min-height: 0; }
.main-content-v2 { display: flex; flex-direction: row; height: calc(100vh - 80px); min-height: 0; }
.left-panel {
  flex: 1 1 400px; max-width: 480px; min-width: 320px; display: flex; flex-direction: column;
  padding: 1.5rem; background: #fff; border-right: 1px solid #e2e8f0; overflow-y: auto;
}
.right-panel {
  flex: 2 1 0; display: flex; flex-direction: column; padding: 1.5rem; min-width: 0;
  background: #f8fafc; overflow-y: auto;
}

/* Sidebar */
.sidebar { width: 320px; background: white; border-right: 1px solid #e2e8f0; overflow-y: auto; transition: all 0.3s ease; }
.sidebar.hidden { display: none; }
.sidebar-content { padding: 1.5rem; }
.sidebar-content h3 { margin-bottom: 1rem; color: #1e293b; font-size: 1.1rem; font-weight: 600; }

/* Data Info */
.data-info { margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0; }
.data-info h4 { margin-bottom: 0.75rem; color: #1e293b; font-size: 1rem; font-weight: 600; }
.data-info p { margin-bottom: 0.5rem; font-size: 0.875rem; color: #64748b; }

/* Main Content wrappers */
.main-content { flex: 1; display: flex; flex-direction: column; min-height: 0; }
.main-content.hidden { display: none; }

/* Welcome */
.welcome-screen {
  flex: 1; display: flex; align-items: center; justify-content: center; padding: 2rem;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
}
.welcome-content { text-align: center; max-width: 500px; }
.welcome-content h2 { font-size: 2rem; color: #1e293b; margin-bottom: 1rem; font-weight: 700; }
.welcome-content > p { font-size: 1.1rem; color: #64748b; margin-bottom: 2rem; }
.features { display: flex; flex-direction: column; gap: 1rem; }
.feature { display: flex; align-items: center; gap: 0.75rem; font-size: 1rem; color: #475569; }
.feature-icon { font-size: 1.5rem; }

/* Analysis area split */
.analysis-area { flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: #e2e8f0; min-height: 0; }
.chat-section, .visualization-section { background: white; display: flex; flex-direction: column; min-height: 0; }

/* Spinner (shared) */
.spinner { width: 20px; height: 20px; border: 2px solid #e2e8f0; border-top: 2px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; }
.spinner.large { width: 40px; height: 40px; border-width: 4px; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Responsive (layout only) */
@media (max-width: 768px) {
  .main-container { flex-direction: column; }
  .sidebar { width: 100%; order: 2; }
  .main-content { order: 1; }
  .analysis-area { grid-template-columns: 1fr; grid-template-rows: 1fr 1fr; }
  .app-header { padding: 1rem; }
  .header-content h1 { font-size: 1.5rem; }
  .features { gap: 0.75rem; }
  .feature { font-size: 0.9rem; }
}

@media (max-width: 480px) {
  .sidebar-content { padding: 1rem; }
}

@media (max-width: 900px) {
  .main-content-v2 { flex-direction: column; }
  .left-panel, .right-panel {
    max-width: 100%; border-right: none; border-bottom: 1px solid #e2e8f0; padding: 1rem;
  }
  .right-panel { border-bottom: none; }
}